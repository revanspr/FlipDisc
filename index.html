<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera Flip-Dot Display</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="camera-section">
            <video id="webcam" autoplay playsinline></video>
            <canvas id="processingCanvas" style="display: none;"></canvas>
        </div>

        <div class="display-wrapper">
            <canvas id="flipDotDisplay" class="flip-dot-display"></canvas>
        </div>

        <div class="controls">
            <h2>Camera Flip-Dot Display</h2>

            <div class="control-group">
                <button id="startCamera" onclick="startCamera()">Start Camera</button>
                <button onclick="stopCamera()">Stop Camera</button>
            </div>

            <div class="control-group">
                <label>Contrast Threshold:</label>
                <input type="range" id="threshold" min="0" max="255" value="128" oninput="updateThreshold(this.value)">
                <span id="thresholdValue">128</span>
            </div>

            <div class="control-group">
                <label>Brightness:</label>
                <input type="range" id="brightness" min="-100" max="100" value="0" oninput="updateBrightness(this.value)">
                <span id="brightnessValue">0</span>
            </div>

            <div class="control-group">
                <label>Contrast:</label>
                <input type="range" id="contrast" min="0" max="200" value="100" oninput="updateContrast(this.value)">
                <span id="contrastValue">100</span>
            </div>

            <div class="control-group">
                <label>
                    <input type="checkbox" id="soundToggle" checked onchange="toggleSound(this.checked)">
                    Enable Drone Synth
                </label>
            </div>

            <div class="control-group">
                <label>Synth Volume:</label>
                <input type="range" id="volume" min="0" max="100" value="20" oninput="updateVolume(this.value)">
                <span id="volumeValue">20%</span>
            </div>

            <div class="control-group">
                <label>Dot Size:</label>
                <input type="range" id="dotSize" min="3" max="12" value="6" oninput="updateDotSize(this.value)">
                <span id="dotSizeValue">6px</span>
            </div>

            <div class="control-group">
                <label>
                    <input type="checkbox" id="mirrorToggle" checked onchange="toggleMirror(this.checked)">
                    Mirror Camera
                </label>
            </div>

            <div class="control-group">
                <button onclick="toggleFullscreen()" class="fullscreen-btn">Toggle Fullscreen</button>
            </div>

            <div class="info">
                <p>Display: 120x120 dots</p>
                <p>Pitch: Mapped to vertical position (higher = higher pitch)</p>
                <p>Press F for fullscreen, ESC to exit</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
